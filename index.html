<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project calculator</title>
    <link rel="icon" href="images/Group 163.png" type="image/png">
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "r85p3wz1c4");
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
</head>
<body onload="checkcurrUser()">
    <!--  -->
    <div class="header">
        <div class="logo-area">
          <img src="images/LOGO with text (4) 1.png" alt="logo" class="logo" />
          <div>
            <span class="tagline"> Project Profitability Estimator</span>
          </div>
        </div>
        <div class="actions">
          <div class="tokens-remian" id="tokens-remian" style="display: none;">
            <span class="coins-icon"><img src="./images/Vector.png" height="22px" width="22px" alt=""></span>
            <span class="token-count" id="token-count"></span>
          </div>
          <div class="toggle-theme" style="display: none;">
            <span class="sun-dt"><i class='bx bxs-sun'></i></span>
            <span class="moon-dt"><i class='bx bx-moon'></i></span>
          </div>
          <!-- <button class="pay-btn" id="pay-btn">Pay now</button> -->
          <button class="signup-btn" id="signup-btn">Log in</button>
          <button class="signup-btn" id="signup-btn2">Sign up</button>
          <div id="dropdownList" class="dropdown-content" style="display: none;">
            <a onclick="retomyprojects()">My Estimates</a>
            <a onclick="retomymembers()">My Members</a>
            <a onclick="curruserlogout()">Sign Out</a>
          </div>
        </div>
    </div>
    
    <div class="header-btm"></div>
    <!-- input container, first top -->
    <div class="input_container">
        <!-- sub title -->
        <div class="subtitle_container">
            <div class="subtitle_name">
                Project Timeline
            </div>
        </div>
        <!-- project timeline -->
        <div class="project_timeline row_container">
            <!-- start date -->
            <div class="start_date">
                <p>Project start Date</p>
                <input type="date" id="myDate" name="myDate" required>
            </div>
            <!-- total project hours -->
            <div class="totalprojecthrs">
                <label for="numberInput">Project Total Hours</label>
                <div class="number-input-group">
                    <div class="inp-sub">
                    <input type="number" class="number-input" id="input1" name="input1" value="100.00" step="1" min="0" max="1000">
                    <div class="input-controls" style="display: none;">
                        <button type="button" class="minus-button">-</button>
                        <button type="button" class="plus-button">+</button>
                    </div>
                </div>
                </div>
            </div>  
            <!-- work per day -->
            <div class="workhrsperday">
                <label for="numberInput">Work Hours/Day</label>
                <div class="number-input-group">
                    <div class="inp-sub">
                    <input type="number" class="number-input" id="input1" name="input1" value="8.00" step="1" min="0" max="24">
                    <div class="input-controls" style="display: none;">
                        <button type="button" class="minus-button">-</button>
                        <button type="button" class="plus-button">+</button>
                    </div>
                </div>
                </div>
            </div>
            <!-- excldue weekends -->
            <div class="work_weekends">
                <label for="workWeekDays">Choose Workdays</label>
                <select id="workWeekDays" name="workWeekDays">
                    <option value="5">5 days a week</option>
                    <option value="6">6 days a week</option>
                </select>
            </div>
        </div>
        
        <!-- project profit target -->
         <div class="profit-container">
            <div class="profit_target">
                <!-- sub title -->
                <div class="subtitle_container">
                    <div class="subtitle_name">
                        Profitability Margin in % <span style="font-size:14px;color:#9EA9B3;font-family:Inter;"> (minimum)</span>
                    </div>
                </div>
                <!-- profit number input div -->
                <div class="expectedprofit">
                    <!-- <label for="numberInput">Target Profit Margin (%)</label> -->
                    <div class="inp-subs">
                        <div class="number-input-group number-input-groups">
                            <input type="number" class="number-input" id="input1" name="input1" value="25.00" step="1" min="0" max="100">
                            <div class="input-controls" style="display: none;">
                                <button type="button" class="minus-button">-</button>
                                <button type="button" class="plus-button">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- resource information -->
            <div class="resource_information">
                <!-- sub title -->
                <div class="subtitle_container">
                    <div class="subtitle_name">
                        Number of Members Involved
                    </div>
                </div>
                <!-- team member count -->
                <div class="teammember_count">
                    <!-- <label for="numberInput">Number of Team Members</label> -->
                    <div class="inp-subs">
                        <div class="number-input-group number-input-groups">
                            <input type="number" class="number-input" id="input1" name="input1" value="1" step="1" min="1" max="25">
                            <div class="input-controls" style="display: none;">
                                <button type="button" class="minus-button">-</button>
                                <button type="button" class="plus-button">+</button>
                            </div>
                        </div>
                    </div>
                </div>        
            </div>
        </div>  
        <!-- team member details logs -->
         <div class="teammember_infos">
            <!-- sub title -->
            <div class="subtitle_container">
                <div class="subtitle_name">
                    Team Members Details
                </div>
            </div>
            <div class="temmember_table_div">
                <table>
                    <thead style="border-radius:12px;">
                      <tr>
                        <th>Name</th>
                        <th>Role</th>
                        <th>Department</th>
                        <th>Hours/Day (hrs)</th>
                        <th>Cost per hour ($ / hr)</th>
                        <th>Billable Rate ($ / hr)</th>
                        <th>Billable Ratio (%)</th>
                      </tr>
                    </thead>
                    <tbody>
                        <!-- default first row for one member -->
                      <tr id="memb1">
                        <td>
                            <div class="membername">
                                <input type="text" placeholder="John Deo">
                                <div class="names-options-container">
                                    <div class="names-options">
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="role">
                                <input type="text" placeholder="CTO">
                            </div>
                        </td>
                        <td>
                            <div class="departments">
                                <select id="departments" name="department">
                                    <option value="Engineer">Engineer</option>
                                    <option value="Design">Design</option>
                                    <option value="Product">Product</option>
                                    <option value="Marketing">Marketing</option>
                                    <option value="Others">Others</option>
                                  </select>
                            </div>
                        </td>
                        <!-- hrs/day -->
                        <td>
                            <div class="number-input-group">
                                <input type="number" class="number-input" id="input1" name="input1" value="4.00" step="1" min="2" max="24">
                                <div class="input-controls" style="display: none;">
                                    <button type="button" class="minus-button">-</button>
                                    <button type="button" class="plus-button">+</button>
                                </div>
                            </div>
                        </td>
                        <!-- $cost/hr -->
                        <td>
                            <div class="number-input-group costrate">
                                <input type="number" class="number-input" id="input1" name="input1" value="40.00" step="1" min="0" max="10000">
                                <div class="input-controls" style="display: none;">
                                    <button type="button" class="minus-button">-</button>
                                    <button type="button" class="plus-button">+</button>
                                </div>
                            </div>
                        </td>
                        <!-- billable rate $/hr -->
                        <td>
                            <div class="number-input-group">
                                <input type="number" class="number-input" id="input1" name="input1" value="40.00" step="1" min="0" max="10000">
                                <div class="input-controls" style="display: none;">
                                    <button type="button" class="minus-button">-</button>
                                    <button type="button" class="plus-button">+</button>
                                </div>
                            </div>
                        </td>
                        <!-- billable ratio % -->
                        <td style="width: 171px;">
                            <div class="number-input-group">
                                <input type="number" class="number-input" id="input1" name="input1" value="100.00" step="1" min="0" max="100">
                                <div class="input-controls" style="display: none;">
                                    <button type="button" class="minus-button">-</button>
                                    <button type="button" class="plus-button">+</button>
                                </div>
                            </div>
                        </td>
                      </tr>
                      
                    </tbody>

                </table>
            </div>
            
         </div>
    </div>


    <!-- calculate inputs -->
    <div class="calculate_btn">
        <div class="btncontainer" style="font-family: Inter;">
            <button id="calcbtn" class="disable-calcbtn" style="font-family: Inter;" role="button">Estimate</button>
        </div>
     </div>


    <!-- output container, second top -->,
     <div class="output_container" id="output_container" style="display: none;">
         <!-- Project Timeline Projection -->
         <div class="projecttimeline_projections">
            <!-- sub title -->
            <div class="subtitle_container">
                <div class="subtitle_name">
                    Project Timeline Projection 
                </div>
            </div>

            <!-- team daily capacity -->
            <div class="row_container">
                <!-- Team Daily Capacity -->
                 <div class="Team_Daily_Capacity">
                    <div class="inner_subtitle_container">
                        <div class="inner_subtitle_name inner_subtitle_name1">
                            Team Daily Capacity 
                        </div>
                    </div>
                    <div class="outer_subtitle_container">
                        <div class="outer_subtitle_name">
                            8.0 hours/day 
                        </div>
                    </div>
                 </div>

                 <!-- Projected Duration -->
                 <div class="Projected_Duration">
                    <div class="inner_subtitle_container">
                        <div class="inner_subtitle_name inner_subtitle_name2">
                            Projected Duration
                        </div>
                    </div>
                    <div class="outer_subtitle_container">
                        <div class="outer_subtitle_name">
                            20 days
                        </div>
                    </div>
                 </div>

                 <!-- Projected Start Date -->
                 <div class="Projected_StartDate">
                    <div class="inner_subtitle_container">
                        <div class="inner_subtitle_name inner_subtitle_name4">
                            Project Start Date
                        </div>
                    </div>
                    <div class="outer_subtitle_container">
                        <div class="outer_subtitle_name expecteddate">
                            2025-04-13
                        </div>
                    </div>
                 </div>

                 <!-- Projected End Date -->
                 <div class="Projected_EndDate">
                    <div class="inner_subtitle_container">
                        <div class="inner_subtitle_name inner_subtitle_name3">
                            Projected End Date
                        </div>
                    </div>
                    <div class="outer_subtitle_container">
                        <div class="outer_subtitle_name expecteddate">
                            2025-04-13
                        </div>
                    </div>
                 </div>
            </div>
         </div>
        <!-- Financial Analysis -->
        <div class="Financial_Analysis">
            <!-- sub title -->
            <div class="subtitle_container">
                <div class="subtitle_name">
                    Financial Analysis
                </div>
            </div>

            <!-- team daily capacity -->
            <div class="row_container">
                <!-- Revenue -->
                <div class="Revenue">
                <div class="inner_subtitle_container">
                    <div class="inner_subtitle_name2">
                        Amount to be Quoted
                    </div>
                </div>
                <div class="outer_subtitle_container">
                    <div class="outer_subtitle_name">
                        $9,600.00
                    </div>
                </div>
                </div>
                
                <!-- Profit/Loss -->
                 <div class="Profit_Loss">
                    <div class="inner_subtitle_container">
                        <div class="inner_subtitle_names">
                            Profit Amount
                        </div>
                    </div>
                    <div class="outer_subtitle_container">
                        <div class="outer_subtitle_name">
                            $2,400.00
                        </div>
                    </div>
                 </div>

                 <!-- Profit Margin -->
                 <div class="Profit_Margin">
                    <div class="inner_subtitle_container">
                        <div class="inner_subtitle_name3">
                            Profit Margin
                        </div>
                    </div>
                    <div class="outer_subtitle_container">
                        <div class="outer_subtitle_name">
                            25.0%
                        </div>
                    </div>
                 </div>

                <!-- Team Costs -->
                <!-- <div class="Team_Costs">
                <div class="inner_subtitle_container">
                    <div class="inner_subtitle_name1">
                        Team Costs
                    </div>
                </div>
                <div class="outer_subtitle_container">
                    <div class="outer_subtitle_name">
                        $7,200.00
                    </div>
                </div>
                </div>
                 -->
                
            </div>
         </div>
         <!-- Project Dashboard -->
         <div class="project_dashhboard">
            <!-- <div class="maintitle">
                Project Dashboard
            </div> -->
            <div class="subtitle_container">
                <div class="subtitle_name">
                    Project Metrics Summary
                </div>
            </div>
            <div class="metrics-card">
                <div class="metric-item">
                    <span class="metric-label">Total Hours</span>
                    <span class="brds"></span>
                    <span class="metric-value">160.0</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Calculated Cost</span>
                    <span class="brds"></span>
                    <span class="metric-value">$ 7,200.00</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Calculated Revenue</span>
                    <span class="brds"></span>
                    <span class="metric-value">$ 9,600.00</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Amount to be Quoted</span>
                    <span class="brds"></span>
                    <span class="metric-value">$ 5,333.00</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Profit ($)</span>
                    <span class="brds"></span>
                    <span class="metric-value">$ 2,400.00</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Profit Margin</span>
                    <span class="brds"></span>
                    <span class="metric-value">25.0 %</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Avg Billable Ratio</span>
                    <span class="brds"></span>
                    <span class="metric-value">100.00 % (all)</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">Duration</span>
                    <span class="brds"></span>
                    <span class="metric-value">16.0 working days</span>
                </div>
                <div class="metric-item">
                    <span class="metric-label">End Date</span>
                    <span class="brds"></span>
                    <span class="metric-value">April 13, 2025</span>
                </div>
            </div>
        </div>
         <!-- Team Costs breakdown -->
         <div class="teamcost_breakdown">
            <!-- sub title -->
            <div class="subtitle_container">
                <div class="subtitle_name">
                    Team Cost Breakdown
                </div>
            </div>
            
            <div class="teamcost_breakdown_table">
                <table class="breakdown-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Role</th>
                            <th>Cost / Hour</th>
                            <th>Hours</th>
                            <th>Total Cost</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>name</td>
                            <td>role</td>
                            <td>cost</td>
                            <td>hour</td>
                            <td>total</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr class="tot-view">
                            <td>TOTAL</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>value</td>
                        </tr>
                    </tfoot>
                </table>            
            </div>
            <!-- sub formulas notes -->
            <div class="subcalcnotes">
                <div class="subnotes">
                    Total cost = Σ (Cost Rate per hour × Total Hours) per team member
                </div>
            </div>
         </div>
         <!-- Revenue breakdown -->
          <div class="revenue_breakdown">
            <!-- sub title -->
            <div class="subtitle_container">
                <div class="subtitle_name">
                    Revenue Breakdown
                </div>
            </div>
            
            <div class="revenue_breakdown_table">
                <table class="breakdown-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Role</th>
                            <th>Billable Rate ($/hr)</th>
                            <th>Billable ratio %</th>
                            <th>Billable Hours</th>
                            <th>Revenue</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>name</td>
                            <td>role</td>
                            <td>rate</td>
                            <td>ratio</td>
                            <td>hours</td>
                            <td>total</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr class="tot-view">
                            <td>TOTAL</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>value</td>
                        </tr>
                    </tfoot>
                </table>            
            </div>
            <!-- sub formulas notes -->
            <div class="subcalcnotes">
                <div class="subnotes">
                    Total Revenue = Σ (Billable Rate × Billable Hours) per team member<br>Billable Hours = Total Hours × (Billable Ratio / 100)
                </div>
            </div>
          </div>
    </div>
    <!-- charts section -->
    <div class="allcharts" id="allcharts">
        <div class="subtitle_container">
            <div class="subtitle_name">
                Visualizations
            </div>
        </div>
        <div class="divsec">
            <div class="card1">
                <div class="subtitle_container">
                    <div class="sidesubtitle_name">
                        Profitability Analysis
                    </div>
                </div>
                <div class="chart1">
                    <canvas id="profitChart"></canvas>
                </div>
             </div>
             <div class="card2">
                <div class="subtitle_container">
                    <div class="sidesubtitle_name">
                        Charges Allocation
                    </div>
                    <!-- <div class="sidesubtitle_name">
                        subtitle
                    </div> -->
                </div>
                <div class="chart2">
                    <canvas id="billChart"></canvas>
                </div>
             </div>
        </div>
    </div>

    <!-- save project / create account -->
     <div class="save_btn" style="display: none;">
        <div class="btncontainer">
            <button id="saveProjectBtn" class="savebutton" role="button">Save Project details</button>
        </div>
     </div>


     <!-- signin modal -->

     <div id="signInModal" class="modal">
        <div class="modal-content">
            <span class="signin-close-button">&times;</span>
            <h2>Log in</h2>
            <form id="signInForm">
                <div class="form-group">
                    <label for="signInEmail">Email:</label>
                    <input type="email" id="signInEmail" name="signInEmail" required>
                    <div class="error-message" id="signInEmailError"></div>
                </div>
                <div class="form-group">
                    <label for="signInPassword">Password:</label>
                    <div class="password-input-container">
                        <input type="text" id="signInPassword" autocomplete="off" name="signInPassword" class="password-masked" required>
                        <button type="button" class="toggle-password" data-target="signInPassword"><i class='bx bxs-hide'></i></button>
                    </div>
                    <div class="error-message" id="signInPasswordError"></div>
                </div>
                <button type="submit" class="signin-button" id="signin-button">Log in</button>
            </form>
            <p class="switch-auth">Don't have an account? <a href="#" id="switchToSignUp">Sign Up</a></p>
        </div>
    </div>

    <!-- save project modal -->
    <div id="saveProjectModal" class="modal">
        <div class="modal-content">
            <span class="signup-close-button">&times;</span>
            <h2>Sign Up</h2>
            <form id="signupForm">
                <div class="form-group">
                    <label for="fullname">Username:</label>
                    <input type="text" id="fullname" name="fullname" required>
                    <div class="error-message" id="fullnameError"></div>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                    <div class="error-message" id="emailError"></div>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <div class="password-input-container">
                        <input type="text" id="password" autocomplete="off" name="password" class="password-masked" required>
                        <button type="button" class="toggle-password" data-target="password"><i class='bx bxs-hide'></i></button>
                    </div>
                    <div class="error-message" id="passwordError"></div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password:</label>
                    <div class="password-input-container">
                        <input type="text" id="confirmPassword" autocomplete="off" name="confirmPassword" class="password-masked" required>
                        <button type="button" class="toggle-password" data-target="confirmPassword"><i class='bx bxs-hide'></i></button>
                    </div>
                    <div class="error-message" id="confirmPasswordError"></div>
                </div>
                <!-- <div class="form-group">
                    <label for="projectTitle">Project Title:</label>
                    <input type="text" id="projectTitle" name="projectTitle">
                    <div class="error-message" id="projectTitleError"></div>
                </div> -->
                <button type="submit" class="signup-button" id="signup-button">Sign Up</button>
            </form>
            <p class="switch-auth">Already have an account? <a href="#" id="switchToLogin">Log in</a></p>
        </div>
    </div>

    <!-- payment modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <h2>Payment<span class="payment-close-button">&times;</span></h2>
            
            <div class="payment-text-content" >
                Each estimate takes up 0.5 Credit (50¢),<br>please purchase a minimum of 3$ (3 credits).
            </div>
          <button class="pay-btn" id="pay-btn">Buy Credits</button>
        </div>
    </div>


    <!-- signup modal -->
     <div id="signupModal" class="modal">

     </div>

    <!-- save project details - name and description -->
     <div id="projectDetailBottomBox" class="projectDetailBottomBox" style="display: none;">
        <div id="projectDetailInfo" class="projectDetailInfo">
            <div class="projinfoboxes1">
                <label for="projectName">Project Name</label>
                <input type="text" id="projectName" name="projectName" placeholder="Enter project name" required>
            </div>
            <div class="projinfoboxes2">
                <label for="description">Description <span class="optionalText">(Optional)</span></label>
                <textarea id="projectDescription" name="description" placeholder="Describe here"></textarea>
            </div>
            <div class="projinfoboxes3">
                <button type="button" id="save-project-button" class="disable-saveprojbtn">Save project</button>
            </div>
         </div>
     </div>


    <!-- script file call -->
    <script src="script.js"></script>
</body>
</html>